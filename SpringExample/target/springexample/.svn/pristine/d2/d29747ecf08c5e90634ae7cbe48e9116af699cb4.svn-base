<%@ page language="java" contentType="text/html; charset=GBK"
    pageEncoding="GBK"%>
<%@ page import="
java.util.HashMap,
java.util.ArrayList,
java.util.Iterator,
com.sohu.frontweb.ubs.data.BlackTable,
com.sohu.frontweb.ubs.service.BlacklistService
"%>     
<%
String webapp = request.getContextPath();
 %>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK">
<title>统一干预信息管理系统UMIS</title>
<link rel="stylesheet" type="text/css" href="Ext/extjs2.0/resources/css/ext-all.css" />
<link rel="stylesheet" type="text/css" href="Ext/extjs2.0/resources/css/ext-patch.css" />
<link rel="stylesheet" type="text/css" href="Ext/css/style.css" />
<style type="text/css">
	.x-grid3-hd-row td.ux-filtered-column {   
        font-weight: bold;
        color: #ff0000;
    }
    .x-selectable, .x-selectable * {   
        -moz-user-select: text!important;   
        -khtml-user-select: text!important;   
    } 
</style>
<link rel="stylesheet" type="text/css" href="Ext/extjs2.0/dataview/data-view.css" />
<script type="text/javascript" src="Ext/extjs2.0/adapter/ext/ext-base.js"></script>
<script type="text/javascript" src="Ext/extjs2.0/ext-all.js"></script>

<script type="text/javascript" src="Ext/extjs2.0/source/locale/ext-lang-zh_CN.js"></script>
<script type="text/javascript" src="Ext/extjs2.0/ext/themeChange.js"></script>
<script type="text/javascript" src="Ext/extjs2.0/dataview/DataView-more.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/menu/EditableItem.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/menu/RangeMenu.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/grid/GridFilters.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/grid/filter/Filter.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/grid/filter/StringFilter.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/grid/filter/DateFilter.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/grid/filter/ListFilter.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/grid/filter/NumericFilter.js"></script>
<script type="text/javascript" src="<%=webapp%>/pages/grid/filter/BooleanFilter.js"></script>


<link rel="stylesheet" type="text/css" href="<%=webapp%>/Ext/extjs2.0/multiselect/multiselect.css"/>
<script type="text/javascript" src="<%=webapp%>/Ext/extjs2.0/multiselect/DDView.js"></script>
<script type="text/javascript" src="<%=webapp%>/Ext/extjs2.0/multiselect/MultiSelect.js"></script>
<script type="text/javascript" src="<%=webapp%>/Ext/extjs2.0/multiselect/ItemSelector.js"></script>
<script type="text/javascript" src="<%=webapp%>/front_webpage/datepicker/WdatePicker.js"></script>
    
</head>
<script type="text/javascript">
	Ext.onReady(function(){
		if (!Ext.grid.GridView.prototype.templates) {
			   Ext.grid.GridView.prototype.templates = {};
		}
		Ext.grid.GridView.prototype.templates.cell = new Ext.Template(
		   '<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} x-selectable {css}" style="{style}" tabIndex="0" {cellAttr}>',
		   '<div class="x-grid3-cell-inner x-grid3-col-{id}" {attr}>{value}</div>',
		   '</td>'
		);
		Ext.BLANK_IMAGE_URL = 'Ext/extjs2.0/resources/images/default/s.gif';
		
		Ext.state.Manager.setProvider(new Ext.state.CookieProvider());
		Ext.Component.prototype.stateful = false;	//去掉组件的cookie状态保持属性，方式页面错位
		
		////////1
		var root1 = new Ext.tree.TreeNode({
			text : 'Spider黑名单',
			url : 'Ext/about.jsp',
			expanded : false//默认展开根节点
		});
		
		var node11 = new Ext.tree.TreeNode({
			text : '域名表维护',
			url : 'domain.do?method=showDomainList&r='+Math.random()
		});
		
		var node12 = new Ext.tree.TreeNode({
			text : '前缀表维护',
			url : 'prefix.do?method=showPrefixList&r='+Math.random()
		});
		var node13 = new Ext.tree.TreeNode({
			text : '保护白名单表维护',
			url : 'protect.do?method=showProtectList&r='+Math.random()
		});
		var node14 = new Ext.tree.TreeNode({
			text : '日志',
			url : 'log.do?method=showLogList'
		});
		<%
		boolean needtoshowSpiderSubroot = false;
		if(  ( (Integer)session.getAttribute("tb_domain_list") )==1){
		needtoshowSpiderSubroot = true;
		%>
		root1.appendChild(node11);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("tb_prefix_list") )==1){
		needtoshowSpiderSubroot = true;
		%>
		root1.appendChild(node12);
		<%}%>

		<%if(  ( (Integer)session.getAttribute("tb_protective_white_list") )==1){
			needtoshowSpiderSubroot = true;
		%>
		root1.appendChild(node13);
		<%}%>
		//root1.appendChild(node14);
		
		////////2
		var root2 = new Ext.tree.TreeNode({
			text : '权限管理',
			url : 'Ext/about.jsp',
			expanded : false//默认展开根节点
		});
		var node21 = new Ext.tree.TreeNode({
			text : '用户表维护',
			url : 'author.do?method=showUserList'
		});
		var node22 = new Ext.tree.TreeNode({
			text : '表对象维护',
			url : 'author.do?method=showObjectList'
		});
		var node23 = new Ext.tree.TreeNode({
			text : '用户-对象-角色关联',
			url : 'author.do?method=showUsrobjroleList'
		});
		var node24 = new Ext.tree.TreeNode({
			text : '角色-操作关联',
			url : 'author.do?method=showRoleopList'
		});
		var node25 = new Ext.tree.TreeNode({
			text : '角色维护',
			url : 'author.do?method=showRoleList'
		});
		var node26 = new Ext.tree.TreeNode({
			text : '操作维护',
			url : 'author.do?method=showOpList'
		});
		var node27 = new Ext.tree.TreeNode({
			text : '操作日志',
			url : 'log.do?method=showLogList'
		});	
		
		var node28 = new Ext.tree.TreeNode({
			text : '用户组表维护',
			url : 'author.do?method=showGroupList'
		});	
		
		var node29 = new Ext.tree.TreeNode({
			text : '用户组-对象-角色关联',
			url : 'author.do?method=showGroupobjroleList'
		});			
			
		<%
		boolean needtoshowAuthSubroot = false;
		if(  ( (Integer)session.getAttribute("kasai_users_list") )==1){
		needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node21);
		<%}%>
		
		//用户组
		<%
		
		if(  ( (Integer)session.getAttribute("kasai_groups_list") )==1){
			needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node28);
		<%}%>		
		
		<%if(  ( (Integer)session.getAttribute("kasai_objects_list") )==1){
		needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node22);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("kasai_objects_users_roles_list") )==1){
		needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node23);
		<%}%>
		
			//用户组-对象-角色
		<%if(  ( (Integer)session.getAttribute("kasai_objects_groups_roles_list") )==1){
			needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node29);
		<%}%>		
		
		<%if(  ( (Integer)session.getAttribute("kasai_roles_operatives_list") )==1){
		needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node24);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("kasai_roles_list") )==1){
		needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node25);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("kasai_operatives_list") )==1){
		needtoshowAuthSubroot = true;
		%>
		root2.appendChild(node26);
		<%}%>
		root2.appendChild(node27);

		////////3
		var root3 = new Ext.tree.TreeNode({
			text : '前台黑名单',
			url : 'Ext/about.jsp',
			expanded : false//默认展开根节点
		});
		var node31 = new Ext.tree.TreeNode({
			text : '网页限制词维护',
			url : 'frontWebpage.do?method=showFrontWebpageList&r='+Math.random()
		});
		var node32 = new Ext.tree.TreeNode({
			text : '网页限制词分类维护',
			url : 'frontWebpageGroup.do?method=showFrontWebpageGroupList&r='+Math.random()
		});
		<%
		boolean needtoshowFrontSubroot = false;
		if(  ( (Integer)session.getAttribute("front_webpage_blacklist_list") )==1){
			needtoshowFrontSubroot = true;
		%>
		root3.appendChild(node31);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("front_webpage_grouplist_list") )==1){
			needtoshowFrontSubroot = true;
		%>
		root3.appendChild(node32);
		<%}%>

		////////4
		var root4 = new Ext.tree.TreeNode({
			text : 'Query黑名单',
			url : 'Ext/about.jsp',
			expanded : false//默认展开根节点
		});
		var node41 = new Ext.tree.TreeNode({
			text : '网页Query维护',
			url : 'query_webpage.do?method=showRecordList&r='+Math.random()
		});
		var node42 = new Ext.tree.TreeNode({
			text : '网页快照维护',
			url : 'snap.do?method=showRecordList&r='+Math.random()
		});
		var node43 = new Ext.tree.TreeNode({
			text : '问答Query维护',
			url : 'query_webpage_wenda.do?method=showRecordList&r='+Math.random()
		});
		<%
		boolean needtoshowQuerySubroot = false;
		if(  ( (Integer)session.getAttribute("query_webpage_list") )==1){
			needtoshowQuerySubroot = true;
		%>
		root4.appendChild(node41);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("snap_webpage_list") )==1){
			needtoshowQuerySubroot = true;
		%>
		root4.appendChild(node42);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("query_wenda_list") )==1){
			needtoshowQuerySubroot = true;
		%>
		root4.appendChild(node43);
		<%}%>
		
		////////5
		var root5 = new Ext.tree.TreeNode({
			text : '网页hint黑名单',
			url : 'Ext/about.jsp',
			expanded : false//默认展开根节点
		});
		var node51 = new Ext.tree.TreeNode({
			text : '网页hint黑名单',
			url : 'hint_webpage.do?method=showRecordList&r='+Math.random()
		});
		<%
		boolean needtoshowHintSubroot = false;
		if(  ( (Integer)session.getAttribute("hint_webpage_list") )==1){
			needtoshowHintSubroot = true;
		%>
		root5.appendChild(node51);
		<%}%>

		////////6
		var root6 = new Ext.tree.TreeNode({
			text : '网页VR黑名单',
			url : 'Ext/about.jsp',
			expanded : false//默认展开根节点
		});
		var node61 = new Ext.tree.TreeNode({
			text : 'VR黑名单',
			url : 'vr_webpage.do?method=showRecordList&r='+Math.random()
		});
		var node62 = new Ext.tree.TreeNode({
			text : 'VR白名单',
			url : 'vr_white.do?method=showRecordList&r='+Math.random()
		});
		var node63 = new Ext.tree.TreeNode({
			text : 'VR数据格式验证',
			url : 'webUIS.do?method=showAladdinValidator&r='+Math.random()
		});
		<%
		boolean needtoshowVRSubroot = false;
		if(  ( (Integer)session.getAttribute("vr_black_list") )==1){
			needtoshowVRSubroot = true;
		%>
		root6.appendChild(node61);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("vr_white_list") )==1){
			needtoshowVRSubroot = true;
		%>
		root6.appendChild(node62);
		<%}%>

		<%if(  ( (Integer)session.getAttribute("vr_validator_list") )==1){
			needtoshowVRSubroot = true;
		%>
		root6.appendChild(node63);
		<%}%>
		
		////////7
		var root7 = new Ext.tree.TreeNode({
			text : '人工干预系统',
			url : 'Ext/about.jsp',
			expanded : false//默认展开根节点
		});
		var node71 = new Ext.tree.TreeNode({
			text : '网页干预',
			url : 'webUIS.do?method=showWebFixrankList&r='+Math.random()
		});
		var node73 = new Ext.tree.TreeNode({
			text : '视频干预预览模式',
			url : 'videoUIS.do?method=showPreviewList&r='+Math.random()
		});
		var node74 = new Ext.tree.TreeNode({
			text : '视频干预列表模式',
			url : 'videoUIS.do?method=showRecordList&r='+Math.random()
		});
		var node75 = new Ext.tree.TreeNode({
			text : '图片人工预览模式',
			url : 'picUIS.do?method=showPreviewList&r='+Math.random()
		});
		var node76 = new Ext.tree.TreeNode({
			text : '图片人工列表模式',
			url : 'picUIS.do?method=showRecordList&r='+Math.random()
		});
		<%
		boolean needtoshowUISSubroot = false;
		if(  ( (Integer)session.getAttribute("uis_web_list") )==1){
			needtoshowUISSubroot = true;
		%>
		root7.appendChild(node71);
		<%}%>
		
		<%if( ((Integer)session.getAttribute("tb_video_human_list") )==1){
			needtoshowUISSubroot = true;
		%>
		root7.appendChild(node73);
		root7.appendChild(node74);
		<%}%>		

		<%if( ((Integer)session.getAttribute("tb_pic_human_list") )==1){
			needtoshowUISSubroot = true;
		%>
		root7.appendChild(node75);
		root7.appendChild(node76);
		<%}%>
		
		var root8 = new Ext.tree.TreeNode({
			text : '信产部黑名单',
			url : 'Ext/about.jsp',
			expanded : false
		});
		var node80 = new Ext.tree.TreeNode({
			text : 'IP黑名单',
			url : 'secadmin_blackip.do?method=showRecordList&r='+Math.random()
		});
		var node81 = new Ext.tree.TreeNode({
			text : 'URL黑名单',
			url : 'secadmin_blackurl.do?method=showRecordList&r='+Math.random()
		});
		var node82 = new Ext.tree.TreeNode({
			text : '查询违禁词',
			url : 'secadmin_input.do?method=showRecordList&r='+Math.random()
		});
		var node83 = new Ext.tree.TreeNode({
			text : '摘要违禁词',
			url : 'secadmin_output.do?method=showRecordList&r='+Math.random()
		});
		var node84 = new Ext.tree.TreeNode({
			text : 'URL前缀黑名单',
			url : 'secadmin_url_set.do?method=showRecordList&r='+Math.random()
		});
		var node85 = new Ext.tree.TreeNode({
			text : 'IP白名单',
			url : 'secadmin_whiteip.do?method=showRecordList&r='+Math.random()
		});
		var node86 = new Ext.tree.TreeNode({
			text : 'URL白名单',
			url : 'secadmin_whiteurl.do?method=showRecordList&r='+Math.random()
		});
		<%
		boolean needtoshowSecAdminSubroot = false;
		if(  ( (Integer)session.getAttribute("secadmin_blackip_list") )==1){
			needtoshowSecAdminSubroot = true;
		%>
		root8.appendChild(node80);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("secadmin_blackurl_list") )==1){
			needtoshowSecAdminSubroot = true;
		%>
		root8.appendChild(node81);
		<%}%>
		<%if(  ( (Integer)session.getAttribute("secadmin_input_list") )==1){
			needtoshowSecAdminSubroot = true;
		%>
		root8.appendChild(node82);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("secadmin_output_list") )==1){
			needtoshowSecAdminSubroot = true;
		%>
		root8.appendChild(node83);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("secadmin_url_set_list") )==1){
			needtoshowSecAdminSubroot = true;
		%>
		root8.appendChild(node84);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("secadmin_whiteip_list") )==1){
			needtoshowSecAdminSubroot = true;
		%>
		root8.appendChild(node85);
		<%}%>
		
		<%if(  ( (Integer)session.getAttribute("secadmin_whiteurl_list") )==1){
			needtoshowSecAdminSubroot = true;
		%>
		root8.appendChild(node86);
		<%}%>
		
		var root9 = new Ext.tree.TreeNode({
			text : 'Anchor黑名单',
			url : 'Ext/about.jsp',
			expanded : false
		});
		
		var node90 = new Ext.tree.TreeNode({
			text : 'Anchor黑名单',
			url : 'anchor.do?method=showAnchorList&r='+Math.random()
		});		
				
		<%
		boolean needtoshowAnchorSubroot = false;
		if(  ( (Integer)session.getAttribute("anchor_blacklist_list") )==1){
			needtoshowAnchorSubroot = true;
		%>
			root9.appendChild(node90);
		<%}%>
		
		
		
				
		var root10 = new Ext.tree.TreeNode({
			text : '通用MysqlDB',
			url : 'Ext/about.jsp',
			expanded : false
		});
		
		
		<%
		
			ArrayList<String[]> countLList = new ArrayList<String[]>();
			countLList.add(new String[]{"web","网页","100","1000","0"});
			countLList.add(new String[]{"pic","图片","101","2000","0"});
			countLList.add(new String[]{"video","视频","102","3000","0"});
			countLList.add(new String[]{"music","音乐","103","4000","0"});
			countLList.add(new String[]{"news","新闻","104","5000","0"});
			countLList.add(new String[]{"blog","博客","105","6000","0"});	
			countLList.add(new String[]{"tt","微博","106","7000","0"});	
			countLList.add(new String[]{"all","全部","107","8000","0"});	
			countLList.add(new String[]{"apply","申请管理","108","9000","0"});	
			
			
			HashMap<String,Integer[]> counLHash = new HashMap<String,Integer[]>();
	
			for(String[] value:countLList){
				counLHash.put(value[0]+","+value[1],new Integer[]{Integer.parseInt(value[2]),Integer.parseInt(value[3]),Integer.parseInt(value[4])});

			%>
				var node<%=value[2]%> = new Ext.tree.TreeNode({
					text : '<%=value[1]%>',
					url : 'Ext/about.jsp',
					expanded : false
					//url : 'ubs.do?method=showBlacklist&r='+Math.random()
				});
			
			<%
			
			}
	
			java.util.Iterator it = BlacklistService.TABLE_MAP.entrySet().iterator();
							
			boolean needtoshowUbsBlackRoot = false;
			
			while(it.hasNext()){
				java.util.Map.Entry entry = (java.util.Map.Entry)it.next();
				BlackTable bt = (BlackTable)entry.getValue();
				
				Iterator iterator = counLHash.keySet().iterator();
			  	while (iterator.hasNext()) {
			  	
			  		String typeStr = (String)iterator.next();
			  		String[] type = typeStr.split(",");
			  		//out.println(type);
			  		if(bt.getName().indexOf(type[0])!=-1){
			  			
			  			Integer[] value = counLHash.get(typeStr);
			  			%>
						var node<%=value[1]%> = new Ext.tree.TreeNode({
							text : '<%=bt.getCnName()%>',
							expanded : false,
							url : 'ubs.do?method=showBlacklist&table=<%=bt.getName()%>&r='+Math.random()
						});				  			
			  			<%
			  			if(bt.getType().equals("apply")||((Integer)session.getAttribute(bt.getName()+"_list")!=null && (Integer)session.getAttribute(bt.getName()+"_list") ==1)){%>	
							node<%=value[0]%>.appendChild(node<%=value[1]%>);					
						<%	
							value[2]++;
						}
			  			value[1]++;
			  			
			  			counLHash.put(typeStr,value);
			  		}
			   
			   } 
	
		}
		
		for(String[] value:countLList){
			//out.println(key[0]+":"+key[1]+"\n");
			Integer[] value1 = counLHash.get(value[0]+","+value[1]);
			if(value1[2]>0){
				out.println("root10.appendChild(node"+value1[0]+");");
				needtoshowUbsBlackRoot = true;
			}
				
		}
					
		%>
			
		var root11 = new Ext.tree.TreeNode({
			text : '数据开放平台',
			url : 'Ext/about.jsp',
			expanded : false
		});
		
		var node110 = new Ext.tree.TreeNode({
			text : '数据审核',
			url : 'open.do?method=showRes&r='+Math.random()
		});	
		
		root11.appendChild(node110);
		
		////////总的功能菜单
		var root = new Ext.tree.TreeNode({
			text : '功能菜单',
			url : 'Ext/about.jsp',
			expanded : true//默认展开根节点
		});
		
		<%if(needtoshowSpiderSubroot){%>
		root.appendChild(root1);
		<%}%>
		
		<%if(needtoshowAuthSubroot){%>
		root.appendChild(root2);
		<%}%>

		<%if(needtoshowFrontSubroot){%>
		root.appendChild(root3);
		<%}%>

		<%if(needtoshowQuerySubroot){%>
		root.appendChild(root4);
		<%}%>
		
		<%if(needtoshowHintSubroot){%>
		root.appendChild(root5);
		<%}%>
		
		<%if(needtoshowVRSubroot){%>
		root.appendChild(root6);
		<%}%>
		
		<%if(needtoshowUISSubroot){%>
		root.appendChild(root7);
		<%}%>
		
		<%if(needtoshowSecAdminSubroot){%>
		root.appendChild(root8);
		<%}%>
		
		<%
		if(needtoshowAnchorSubroot){
			out.println("root.appendChild(root9)");
		}
		
		if(needtoshowUbsBlackRoot){
			out.println("root.appendChild(root10);");
		}


		if(  ( (Integer)session.getAttribute("vr_open_list") )==1){
			out.println("root.appendChild(root11);");
		}		
		
		%>
		
		
		var menu = new Ext.tree.TreePanel({
			border : false,
			root : root,
			hrefTarget : 'mainContent',
			listeners : {
				click : function(node,e){
					mainPanel.load({
						url:node.attributes.url,
						callback : function(){
							mainPanel.setTitle(node.text);
						},
						scripts: true
					});
				}
			}
			,
			tbar : [
				'皮肤选择：',
				{
					xtype : 'themeChange',
					width : 80,
					listWidth : 80
				},
				'->'
			]
		});
		new Ext.Viewport({
			title : 'Ext.Viewport示例',
			layout:'border',//表格布局
			items: [{
				title : '欢迎您，<%=session.getAttribute("user")%>&nbsp;&nbsp;<a href="logout.jsp">登出</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:yangting@sohu-rd.com">联系开发</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://cvs.so.sohu.com/svn/websearch/trunk/FrontWeb/开发文档/前端应用/UMIS/【使用手册】UMIS系统V1.0.doc">使用手册</a>',
				collapsible: true,
				html : '<br><center><font size = 6>统一干预信息管理系统UMIS</font></center>',
				region: 'north',//指定子面板所在区域为north
				height: 100
			},{
				title : '功能菜单',
				items : menu,
				split:true,
				collapsible: true,
				autoScroll:true,
				region:'west',//指定子面板所在区域为west
				id:"westContent",
				width: 185
			},{
				title: '操作区域',
				contentEl : 'aboutDiv',
				collapsible: true,
				id : 'mainContent',
				autoScroll:true,
				region:'center'//指定子面板所在区域为center
			},{
				title: '副操作区域',
				//contentEl : 'aboutDiv',
				hidden:true,
				split:true,
				autoScroll:true,
				collapsible: true,
				collapsed:true,
				id : 'eastContent',
				autoScroll:true,
				width:500,
				region:'east'//指定子面板所在区域为east
				
			}]
		});
		var mainPanel = Ext.getCmp('mainContent');	
		
		
		<%
		String ubstable = request.getParameter("ubstable");
		if(ubstable!=null && !ubstable.isEmpty()){
			BlackTable ut = (BlackTable)BlacklistService.TABLE_MAP.get(ubstable);
			String id = "0";
			if(request.getParameter("id")!=null)
				id = request.getParameter("id");
			
		%>
		    var w=Ext.getCmp('westContent');
			w.collapsed=w.collapse(); /*控制关闭*/
			//w.collapsed=w.expand();/*控制打开*/		
			mainPanel.load({
							url: "ubs.do?method=showBlacklist&table=<%=ubstable%>&id=<%=id%>",
							callback : function(){
								var m=Ext.getCmp('mainContent');
								m.setTitle("<%=ut.getCnName()%>");
							},
							scripts: true
			});
		
		<%}%>
		
	});
</script>
<body>

<div id='aboutDiv' style='height:96%;width:100%'>
<table style="width: 100%; height: 100%" border="0">
	<tr>
		<td align="center">
		<div style="width: 600px; height: 420px; overflow: auto;" align="center">
		<font align="center" size="5">&nbsp;&nbsp;&nbsp;&nbsp;欢迎使用统一干预信息管理系统UMIS</font>
		<br><br>
		<p><img alt="logo" src="images/logo.bmp"></p><br>
		<font color="red">各黑名单权限申请表地址(请在线填写)：<a href="apply.html">apply.html</a></font><br><br>
		<font color="blue">
			版本式开发计划：每月第一和第三个周二为上线日，也是下一版本需求截止日<br>
		</font>
		</div>
		</td>
	</tr>
	<tr>
		<td align="center">
			<div style="width: 600px; height: 420px; overflow: auto;" align="left">
				<ul>
					<li>1.Ubs的hint改进需求包括：增加生效截止时间和白名单类型(封禁字段为否)</li>
					<li>2.Ubs的前台限制词黑名单改进需求是：增加白名单类型(封禁字段为否)</li>
					<li>3.Ubs将07-20 11:30 至07-24 17:00提交到旧query、snap库中的记录都导入新库</li>
					<li>4.Umis新增需求是增加网页hint人工干预模块（原来的hint彩蛋系统）</li>
				</ul>
			</div>
		</td>
	</tr>
</table>
</div>
</body>
</html>